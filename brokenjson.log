WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--------------< [0;36mcom.jvoigt.issue:pulsar-schema-dlq-issue[0;1m >--------------[m
[[1;34mINFO[m] [1mBuilding pulsar-schema-dlq-issue 1.0-SNAPSHOT[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.0.2:resources[m [1m(default-resources)[m @ [36mpulsar-schema-dlq-issue[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /home/j.voigt/Workspace/kata/pulsar-schema-dlq-issue/src/main/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mpulsar-schema-dlq-issue[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mexec-maven-plugin:3.0.0:java[m [1m(default-cli)[m @ [36mpulsar-schema-dlq-issue[0;1m ---[m
Apr 27, 2021 12:21:14 PM com.jvoigt.issue.BrokenJsonExample main
INFO: Starting Client....
Apr 27, 2021 12:21:14 PM com.jvoigt.issue.BrokenJsonExample main
INFO: Starting Producer....
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConnectionPool lambda$createConnection$8
INFO: [[id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650]] Connected to server
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ProducerStatsRecorderImpl init
INFO: Starting Pulsar producer perf with config: {
  "topicName" : "jsonTopic",
  "producerName" : null,
  "sendTimeoutMs" : 30000,
  "blockIfQueueFull" : false,
  "maxPendingMessages" : 1000,
  "maxPendingMessagesAcrossPartitions" : 50000,
  "messageRoutingMode" : "RoundRobinPartition",
  "hashingScheme" : "JavaStringHash",
  "cryptoFailureAction" : "FAIL",
  "batchingMaxPublishDelayMicros" : 1000,
  "batchingPartitionSwitchFrequencyByPublishDelay" : 10,
  "batchingMaxMessages" : 1000,
  "batchingMaxBytes" : 131072,
  "batchingEnabled" : true,
  "chunkingEnabled" : false,
  "compressionType" : "NONE",
  "initialSequenceId" : null,
  "autoUpdatePartitions" : true,
  "autoUpdatePartitionsIntervalSeconds" : 60,
  "multiSchema" : true,
  "properties" : { }
}
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ProducerStatsRecorderImpl init
INFO: Pulsar client config: {
  "serviceUrl" : "pulsar://localhost:6650",
  "authPluginClassName" : null,
  "operationTimeoutMs" : 30000,
  "statsIntervalSeconds" : 60,
  "numIoThreads" : 1,
  "numListenerThreads" : 1,
  "connectionsPerBroker" : 1,
  "useTcpNoDelay" : true,
  "useTls" : false,
  "tlsTrustCertsFilePath" : "",
  "tlsAllowInsecureConnection" : false,
  "tlsHostnameVerificationEnable" : false,
  "concurrentLookupRequest" : 5000,
  "maxLookupRequest" : 50000,
  "maxLookupRedirects" : 20,
  "maxNumberOfRejectedRequestPerConnection" : 50,
  "keepAliveIntervalSeconds" : 30,
  "connectionTimeoutMs" : 10000,
  "requestTimeoutMs" : 60000,
  "initialBackoffIntervalNanos" : 100000000,
  "maxBackoffIntervalNanos" : 60000000000,
  "listenerName" : null,
  "useKeyStoreTls" : false,
  "sslProvider" : null,
  "tlsTrustStoreType" : "JKS",
  "tlsTrustStorePath" : null,
  "tlsTrustStorePassword" : null,
  "tlsCiphers" : [ ],
  "tlsProtocols" : [ ],
  "proxyServiceUrl" : null,
  "proxyProtocol" : null,
  "enableTransaction" : false
}
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ProducerImpl connectionOpened
INFO: [jsonTopic] [null] Creating producer on cnx [id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650]
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ProducerImpl lambda$connectionOpened$16
INFO: [jsonTopic] [standalone-2-5] Created producer on cnx [id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650]
Apr 27, 2021 12:21:14 PM com.scurrilous.circe.checksum.Crc32cIntChecksum <clinit>
WARNING: Failed to load Circe JNI library. Falling back to Java based CRC32c provider
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ProducerImpl lambda$closeAsync$11
INFO: [jsonTopic] [standalone-2-5] Closed Producer
Apr 27, 2021 12:21:14 PM com.jvoigt.issue.BrokenJsonExample main
INFO: Starting Consumer....
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl init
INFO: Starting Pulsar consumer status recorder with config: {
  "topicNames" : [ "jsonTopic" ],
  "topicsPattern" : null,
  "subscriptionName" : "subscription",
  "subscriptionType" : "Shared",
  "subscriptionMode" : "Durable",
  "receiverQueueSize" : 1000,
  "acknowledgementsGroupTimeMicros" : 100000,
  "negativeAckRedeliveryDelayMicros" : 60000000,
  "maxTotalReceiverQueueSizeAcrossPartitions" : 50000,
  "consumerName" : null,
  "ackTimeoutMillis" : 2000,
  "tickDurationMillis" : 1000,
  "priorityLevel" : 0,
  "maxPendingChuckedMessage" : 10,
  "autoAckOldestChunkedMessageOnQueueFull" : false,
  "expireTimeOfIncompleteChunkedMessageMillis" : 60000,
  "cryptoFailureAction" : "FAIL",
  "properties" : { },
  "readCompacted" : false,
  "subscriptionInitialPosition" : "Latest",
  "patternAutoDiscoveryPeriod" : 60,
  "regexSubscriptionMode" : "PersistentOnly",
  "deadLetterPolicy" : {
    "maxRedeliverCount" : 3,
    "retryLetterTopic" : null,
    "deadLetterTopic" : null
  },
  "retryEnable" : false,
  "autoUpdatePartitions" : true,
  "autoUpdatePartitionsIntervalSeconds" : 60,
  "replicateSubscriptionState" : false,
  "resetIncludeHead" : false,
  "keySharedPolicy" : null,
  "batchIndexAckEnabled" : false
}
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl init
INFO: Pulsar client config: {
  "serviceUrl" : "pulsar://localhost:6650",
  "authPluginClassName" : null,
  "operationTimeoutMs" : 30000,
  "statsIntervalSeconds" : 60,
  "numIoThreads" : 1,
  "numListenerThreads" : 1,
  "connectionsPerBroker" : 1,
  "useTcpNoDelay" : true,
  "useTls" : false,
  "tlsTrustCertsFilePath" : "",
  "tlsAllowInsecureConnection" : false,
  "tlsHostnameVerificationEnable" : false,
  "concurrentLookupRequest" : 5000,
  "maxLookupRequest" : 50000,
  "maxLookupRedirects" : 20,
  "maxNumberOfRejectedRequestPerConnection" : 50,
  "keepAliveIntervalSeconds" : 30,
  "connectionTimeoutMs" : 10000,
  "requestTimeoutMs" : 60000,
  "initialBackoffIntervalNanos" : 100000000,
  "maxBackoffIntervalNanos" : 60000000000,
  "listenerName" : null,
  "useKeyStoreTls" : false,
  "sslProvider" : null,
  "tlsTrustStoreType" : "JKS",
  "tlsTrustStorePath" : null,
  "tlsTrustStorePassword" : null,
  "tlsCiphers" : [ ],
  "tlsProtocols" : [ ],
  "proxyServiceUrl" : null,
  "proxyProtocol" : null,
  "enableTransaction" : false
}
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerImpl connectionOpened
INFO: [jsonTopic][subscription] Subscribing to topic on cnx [id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650], consumerId 0
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerImpl consumerIsReconnectedToBroker
INFO: [jsonTopic][subscription] Subscribed to topic on localhost/127.0.0.1:6650 -- consumer: 0
Apr 27, 2021 12:21:14 PM com.jvoigt.issue.BrokenJsonExample main
INFO: Starting DLQ-Consumer....
Apr 27, 2021 12:21:14 PM com.jvoigt.issue.MyListener received
INFO:  persistent://public/default/jsonTopic => Message received: {"message":"My Payload"}
Apr 27, 2021 12:21:14 PM com.jvoigt.issue.MyListener received
SEVERE: persistent://public/default/jsonTopic => I WILL NACK IT with Counter: 0
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl init
INFO: Starting Pulsar consumer status recorder with config: {
  "topicNames" : [ "schema-jsonTopic-subscription-DLQ" ],
  "topicsPattern" : null,
  "subscriptionName" : "dead",
  "subscriptionType" : "Shared",
  "subscriptionMode" : "Durable",
  "receiverQueueSize" : 1000,
  "acknowledgementsGroupTimeMicros" : 100000,
  "negativeAckRedeliveryDelayMicros" : 60000000,
  "maxTotalReceiverQueueSizeAcrossPartitions" : 50000,
  "consumerName" : null,
  "ackTimeoutMillis" : 0,
  "tickDurationMillis" : 1000,
  "priorityLevel" : 0,
  "maxPendingChuckedMessage" : 10,
  "autoAckOldestChunkedMessageOnQueueFull" : false,
  "expireTimeOfIncompleteChunkedMessageMillis" : 60000,
  "cryptoFailureAction" : "FAIL",
  "properties" : { },
  "readCompacted" : false,
  "subscriptionInitialPosition" : "Latest",
  "patternAutoDiscoveryPeriod" : 60,
  "regexSubscriptionMode" : "PersistentOnly",
  "deadLetterPolicy" : null,
  "retryEnable" : false,
  "autoUpdatePartitions" : true,
  "autoUpdatePartitionsIntervalSeconds" : 60,
  "replicateSubscriptionState" : false,
  "resetIncludeHead" : false,
  "keySharedPolicy" : null,
  "batchIndexAckEnabled" : false
}
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerStatsRecorderImpl init
INFO: Pulsar client config: {
  "serviceUrl" : "pulsar://localhost:6650",
  "authPluginClassName" : null,
  "operationTimeoutMs" : 30000,
  "statsIntervalSeconds" : 60,
  "numIoThreads" : 1,
  "numListenerThreads" : 1,
  "connectionsPerBroker" : 1,
  "useTcpNoDelay" : true,
  "useTls" : false,
  "tlsTrustCertsFilePath" : "",
  "tlsAllowInsecureConnection" : false,
  "tlsHostnameVerificationEnable" : false,
  "concurrentLookupRequest" : 5000,
  "maxLookupRequest" : 50000,
  "maxLookupRedirects" : 20,
  "maxNumberOfRejectedRequestPerConnection" : 50,
  "keepAliveIntervalSeconds" : 30,
  "connectionTimeoutMs" : 10000,
  "requestTimeoutMs" : 60000,
  "initialBackoffIntervalNanos" : 100000000,
  "maxBackoffIntervalNanos" : 60000000000,
  "listenerName" : null,
  "useKeyStoreTls" : false,
  "sslProvider" : null,
  "tlsTrustStoreType" : "JKS",
  "tlsTrustStorePath" : null,
  "tlsTrustStorePassword" : null,
  "tlsCiphers" : [ ],
  "tlsProtocols" : [ ],
  "proxyServiceUrl" : null,
  "proxyProtocol" : null,
  "enableTransaction" : false
}
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerImpl connectionOpened
INFO: [schema-jsonTopic-subscription-DLQ][dead] Subscribing to topic on cnx [id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650], consumerId 1
Apr 27, 2021 12:21:14 PM org.apache.pulsar.client.impl.ConsumerImpl consumerIsReconnectedToBroker
INFO: [schema-jsonTopic-subscription-DLQ][dead] Subscribed to topic on localhost/127.0.0.1:6650 -- consumer: 1
Apr 27, 2021 12:21:17 PM org.apache.pulsar.client.impl.UnAckedMessageTracker$2 run
WARNING: [ConsumerBase{subscription='subscription', consumerName='a2435', topic='jsonTopic'}] 1 messages have timed-out
Apr 27, 2021 12:21:17 PM com.jvoigt.issue.MyListener received
INFO:  persistent://public/default/jsonTopic => Message received: {"message":"My Payload"}
Apr 27, 2021 12:21:17 PM com.jvoigt.issue.MyListener received
SEVERE: persistent://public/default/jsonTopic => I WILL NACK IT with Counter: 1
Apr 27, 2021 12:21:20 PM org.apache.pulsar.client.impl.UnAckedMessageTracker$2 run
WARNING: [ConsumerBase{subscription='subscription', consumerName='a2435', topic='jsonTopic'}] 1 messages have timed-out
Apr 27, 2021 12:21:20 PM com.jvoigt.issue.MyListener received
INFO:  persistent://public/default/jsonTopic => Message received: {"message":"My Payload"}
Apr 27, 2021 12:21:20 PM com.jvoigt.issue.MyListener received
SEVERE: persistent://public/default/jsonTopic => I WILL NACK IT with Counter: 2
Apr 27, 2021 12:21:23 PM org.apache.pulsar.client.impl.UnAckedMessageTracker$2 run
WARNING: [ConsumerBase{subscription='subscription', consumerName='a2435', topic='jsonTopic'}] 1 messages have timed-out
Apr 27, 2021 12:21:23 PM com.jvoigt.issue.MyListener received
INFO:  persistent://public/default/jsonTopic => Message received: {"message":"My Payload"}
Apr 27, 2021 12:21:23 PM com.jvoigt.issue.MyListener received
SEVERE: persistent://public/default/jsonTopic => I WILL NACK IT with Counter: 3
Apr 27, 2021 12:21:26 PM org.apache.pulsar.client.impl.UnAckedMessageTracker$2 run
WARNING: [ConsumerBase{subscription='subscription', consumerName='a2435', topic='jsonTopic'}] 1 messages have timed-out
Apr 27, 2021 12:21:26 PM org.apache.pulsar.client.impl.ProducerStatsRecorderImpl init
INFO: Starting Pulsar producer perf with config: {
  "topicName" : "jsonTopic-subscription-DLQ",
  "producerName" : null,
  "sendTimeoutMs" : 30000,
  "blockIfQueueFull" : false,
  "maxPendingMessages" : 1000,
  "maxPendingMessagesAcrossPartitions" : 50000,
  "messageRoutingMode" : "RoundRobinPartition",
  "hashingScheme" : "JavaStringHash",
  "cryptoFailureAction" : "FAIL",
  "batchingMaxPublishDelayMicros" : 1000,
  "batchingPartitionSwitchFrequencyByPublishDelay" : 10,
  "batchingMaxMessages" : 1000,
  "batchingMaxBytes" : 131072,
  "batchingEnabled" : true,
  "chunkingEnabled" : false,
  "compressionType" : "NONE",
  "initialSequenceId" : null,
  "autoUpdatePartitions" : true,
  "autoUpdatePartitionsIntervalSeconds" : 60,
  "multiSchema" : true,
  "properties" : { }
}
Apr 27, 2021 12:21:26 PM org.apache.pulsar.client.impl.ProducerStatsRecorderImpl init
INFO: Pulsar client config: {
  "serviceUrl" : "pulsar://localhost:6650",
  "authPluginClassName" : null,
  "operationTimeoutMs" : 30000,
  "statsIntervalSeconds" : 60,
  "numIoThreads" : 1,
  "numListenerThreads" : 1,
  "connectionsPerBroker" : 1,
  "useTcpNoDelay" : true,
  "useTls" : false,
  "tlsTrustCertsFilePath" : "",
  "tlsAllowInsecureConnection" : false,
  "tlsHostnameVerificationEnable" : false,
  "concurrentLookupRequest" : 5000,
  "maxLookupRequest" : 50000,
  "maxLookupRedirects" : 20,
  "maxNumberOfRejectedRequestPerConnection" : 50,
  "keepAliveIntervalSeconds" : 30,
  "connectionTimeoutMs" : 10000,
  "requestTimeoutMs" : 60000,
  "initialBackoffIntervalNanos" : 100000000,
  "maxBackoffIntervalNanos" : 60000000000,
  "listenerName" : null,
  "useKeyStoreTls" : false,
  "sslProvider" : null,
  "tlsTrustStoreType" : "JKS",
  "tlsTrustStorePath" : null,
  "tlsTrustStorePassword" : null,
  "tlsCiphers" : [ ],
  "tlsProtocols" : [ ],
  "proxyServiceUrl" : null,
  "proxyProtocol" : null,
  "enableTransaction" : false
}
Apr 27, 2021 12:21:26 PM org.apache.pulsar.client.impl.ProducerImpl connectionOpened
INFO: [jsonTopic-subscription-DLQ] [null] Creating producer on cnx [id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650]
Apr 27, 2021 12:21:26 PM org.apache.pulsar.client.impl.ProducerImpl lambda$connectionOpened$16
INFO: [jsonTopic-subscription-DLQ] [standalone-2-6] Created producer on cnx [id: 0xc8a31fea, L:/127.0.0.1:48418 - R:localhost/127.0.0.1:6650]

NO MORE LOGS